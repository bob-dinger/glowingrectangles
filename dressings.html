<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Salad Dressings - What's In Your Dressing?</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: #0a0a0f;
            color: #fff;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            min-height: 100vh;
            overflow: hidden;
        }
        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            color: #666;
            text-decoration: none;
            font-size: 13px;
            z-index: 100;
        }
        .back-link:hover { color: #fff; }

        .layout {
            display: flex;
            height: 100vh;
        }

        .sidebar {
            width: 280px;
            background: #111;
            border-right: 1px solid #222;
            padding: 70px 0 20px;
            overflow-y: auto;
            flex-shrink: 0;
        }

        .sidebar h2 {
            font-size: 14px;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 1px;
            padding: 0 20px;
            margin-bottom: 15px;
        }

        .blend-list {
            list-style: none;
        }
        .blend-item {
            padding: 14px 20px;
            cursor: pointer;
            border-left: 3px solid transparent;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .blend-item:hover {
            background: #1a1a1a;
        }
        .blend-item.active {
            background: #1a1a1a;
            border-left-color: #22c55e;
        }
        .blend-item .icon {
            font-size: 20px;
        }
        .blend-item .name {
            font-size: 14px;
        }
        .blend-item .origin {
            font-size: 11px;
            color: #555;
        }

        .main {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px;
            position: relative;
        }

        .blend-title {
            font-size: 32px;
            margin-bottom: 8px;
            text-align: center;
        }
        .blend-uses {
            font-size: 14px;
            color: #666;
            text-align: center;
            margin-bottom: 40px;
            max-width: 500px;
        }

        #bubbleContainer {
            width: 600px;
            height: 500px;
            position: relative;
        }

        .bubble {
            position: absolute;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-weight: 500;
            transition: transform 0.2s;
            cursor: default;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }
        .bubble:hover {
            transform: scale(1.08);
            z-index: 10;
        }
        .bubble .label {
            padding: 5px;
            line-height: 1.2;
        }
    </style>
</head>
<body>
    <a href="cooking.html" class="back-link">‚Üê Back to Cooking</a>

    <div class="layout">
        <div class="sidebar">
            <h2>Dressings</h2>
            <ul class="blend-list" id="blendList"></ul>
        </div>

        <div class="main">
            <h1 class="blend-title" id="blendTitle">Select a Dressing</h1>
            <p class="blend-uses" id="blendUses">Choose a dressing from the list to see what's inside</p>
            <div id="bubbleContainer"></div>
        </div>
    </div>

    <script>
        const blends = [
            {
                name: "Ranch",
                icon: "ü•¨",
                origin: "California, USA",
                uses: "Salads, wings, pizza dipping, vegetables, sandwiches",
                spices: [
                    { name: "Mayonnaise", parts: 4, color: "#fef3c7" },
                    { name: "Buttermilk", parts: 3, color: "#f5f5f4" },
                    { name: "Sour Cream", parts: 2, color: "#fafaf9" },
                    { name: "Dill", parts: 1.5, color: "#86efac" },
                    { name: "Garlic", parts: 1, color: "#fef3c7" },
                    { name: "Onion", parts: 1, color: "#fde68a" },
                    { name: "Chives", parts: 0.5, color: "#4ade80" },
                    { name: "Parsley", parts: 0.5, color: "#22c55e" }
                ]
            },
            {
                name: "Caesar",
                icon: "ü•ó",
                origin: "Tijuana, Mexico",
                uses: "Caesar salad, chicken wraps, pasta salad, crouton dip",
                spices: [
                    { name: "Mayonnaise", parts: 4, color: "#fef3c7" },
                    { name: "Parmesan", parts: 3, color: "#fef9c3" },
                    { name: "Lemon Juice", parts: 2, color: "#fde047" },
                    { name: "Garlic", parts: 2, color: "#fef3c7" },
                    { name: "Anchovy", parts: 1.5, color: "#a8a29e" },
                    { name: "Dijon", parts: 1, color: "#ca8a04" },
                    { name: "Worcestershire", parts: 0.5, color: "#78350f" },
                    { name: "Black Pepper", parts: 0.5, color: "#404040" }
                ]
            },
            {
                name: "Italian",
                icon: "üáÆüáπ",
                origin: "Italian-American",
                uses: "Green salads, pasta salad, marinades, sub sandwiches",
                spices: [
                    { name: "Olive Oil", parts: 4, color: "#a3e635" },
                    { name: "Red Wine Vinegar", parts: 3, color: "#be123c" },
                    { name: "Garlic", parts: 1.5, color: "#fef3c7" },
                    { name: "Oregano", parts: 1, color: "#4ade80" },
                    { name: "Basil", parts: 1, color: "#22c55e" },
                    { name: "Red Pepper Flakes", parts: 0.5, color: "#dc2626" },
                    { name: "Parmesan", parts: 0.5, color: "#fef9c3" }
                ]
            },
            {
                name: "Balsamic Vinaigrette",
                icon: "üçá",
                origin: "Modena, Italy",
                uses: "Mixed greens, caprese, strawberry salad, grilled vegetables",
                spices: [
                    { name: "Olive Oil", parts: 4, color: "#a3e635" },
                    { name: "Balsamic Vinegar", parts: 3, color: "#44403c" },
                    { name: "Dijon", parts: 1, color: "#ca8a04" },
                    { name: "Honey", parts: 1, color: "#fbbf24" },
                    { name: "Garlic", parts: 0.5, color: "#fef3c7" },
                    { name: "Shallot", parts: 0.5, color: "#c084fc" }
                ]
            },
            {
                name: "Blue Cheese",
                icon: "üßÄ",
                origin: "USA",
                uses: "Buffalo wings, wedge salad, steak topping, celery sticks",
                spices: [
                    { name: "Blue Cheese", parts: 4, color: "#93c5fd" },
                    { name: "Mayonnaise", parts: 3, color: "#fef3c7" },
                    { name: "Sour Cream", parts: 2, color: "#fafaf9" },
                    { name: "Buttermilk", parts: 2, color: "#f5f5f4" },
                    { name: "Lemon Juice", parts: 0.5, color: "#fde047" },
                    { name: "Garlic", parts: 0.5, color: "#fef3c7" },
                    { name: "Black Pepper", parts: 0.5, color: "#404040" }
                ]
            },
            {
                name: "Thousand Island",
                icon: "üèùÔ∏è",
                origin: "Thousand Islands, NY",
                uses: "Reuben sandwiches, burger sauce, salads, fry sauce",
                spices: [
                    { name: "Mayonnaise", parts: 4, color: "#fef3c7" },
                    { name: "Ketchup", parts: 3, color: "#dc2626" },
                    { name: "Sweet Pickle Relish", parts: 2, color: "#84cc16" },
                    { name: "Onion", parts: 1, color: "#fde68a" },
                    { name: "Lemon Juice", parts: 0.5, color: "#fde047" },
                    { name: "Paprika", parts: 0.5, color: "#ea580c" }
                ]
            },
            {
                name: "Honey Mustard",
                icon: "üçØ",
                origin: "USA",
                uses: "Chicken tenders, salads, ham sandwiches, pretzels",
                spices: [
                    { name: "Honey", parts: 4, color: "#fbbf24" },
                    { name: "Dijon Mustard", parts: 3, color: "#ca8a04" },
                    { name: "Mayonnaise", parts: 2, color: "#fef3c7" },
                    { name: "Yellow Mustard", parts: 1, color: "#eab308" },
                    { name: "Lemon Juice", parts: 0.5, color: "#fde047" },
                    { name: "Garlic", parts: 0.5, color: "#fef3c7" }
                ]
            },
            {
                name: "Greek",
                icon: "üá¨üá∑",
                origin: "Greece",
                uses: "Greek salad, gyro sauce, feta salads, cucumber dip",
                spices: [
                    { name: "Olive Oil", parts: 4, color: "#a3e635" },
                    { name: "Red Wine Vinegar", parts: 2, color: "#be123c" },
                    { name: "Lemon Juice", parts: 2, color: "#fde047" },
                    { name: "Oregano", parts: 1.5, color: "#4ade80" },
                    { name: "Garlic", parts: 1, color: "#fef3c7" },
                    { name: "Dijon", parts: 0.5, color: "#ca8a04" },
                    { name: "Black Pepper", parts: 0.5, color: "#404040" }
                ]
            },
            {
                name: "French",
                icon: "üá´üá∑",
                origin: "USA (not France!)",
                uses: "Salads, French dip, sandwich spread",
                spices: [
                    { name: "Tomato", parts: 4, color: "#dc2626" },
                    { name: "Oil", parts: 3, color: "#fef3c7" },
                    { name: "Vinegar", parts: 2, color: "#fde68a" },
                    { name: "Sugar", parts: 2, color: "#fef9c3" },
                    { name: "Paprika", parts: 1, color: "#ea580c" },
                    { name: "Onion", parts: 1, color: "#fde68a" },
                    { name: "Garlic", parts: 0.5, color: "#fef3c7" }
                ]
            },
            {
                name: "Green Goddess",
                icon: "üåø",
                origin: "San Francisco, USA",
                uses: "Cobb salad, vegetable dip, fish, avocado toast",
                spices: [
                    { name: "Mayonnaise", parts: 3, color: "#fef3c7" },
                    { name: "Sour Cream", parts: 2, color: "#fafaf9" },
                    { name: "Avocado", parts: 2, color: "#84cc16" },
                    { name: "Herbs", parts: 2, color: "#22c55e" },
                    { name: "Anchovy", parts: 1, color: "#a8a29e" },
                    { name: "Chives", parts: 1, color: "#4ade80" },
                    { name: "Tarragon", parts: 1, color: "#86efac" },
                    { name: "Lemon", parts: 1, color: "#fde047" }
                ]
            },
            {
                name: "Russian",
                icon: "üá∑üá∫",
                origin: "USA (not Russia!)",
                uses: "Reuben sandwiches, salads, dipping sauce",
                spices: [
                    { name: "Mayonnaise", parts: 4, color: "#fef3c7" },
                    { name: "Ketchup", parts: 3, color: "#dc2626" },
                    { name: "Horseradish", parts: 1.5, color: "#fef9c3" },
                    { name: "Worcestershire", parts: 0.5, color: "#78350f" },
                    { name: "Onion", parts: 0.5, color: "#fde68a" },
                    { name: "Paprika", parts: 0.5, color: "#ea580c" }
                ]
            },
            {
                name: "Asian Sesame",
                icon: "ü•¢",
                origin: "Asian-American",
                uses: "Asian chicken salad, slaw, noodle salads, dumplings",
                spices: [
                    { name: "Sesame Oil", parts: 3, color: "#a16207" },
                    { name: "Rice Vinegar", parts: 3, color: "#fef9c3" },
                    { name: "Soy Sauce", parts: 2, color: "#44403c" },
                    { name: "Ginger", parts: 1.5, color: "#fbbf24" },
                    { name: "Honey", parts: 1, color: "#fbbf24" },
                    { name: "Garlic", parts: 1, color: "#fef3c7" },
                    { name: "Sesame Seeds", parts: 1, color: "#fef3c7" }
                ]
            },
            {
                name: "Tahini",
                icon: "ü´ì",
                origin: "Middle East",
                uses: "Falafel, grain bowls, roasted vegetables, hummus drizzle",
                spices: [
                    { name: "Tahini", parts: 4, color: "#d6d3d1" },
                    { name: "Lemon Juice", parts: 3, color: "#fde047" },
                    { name: "Garlic", parts: 1.5, color: "#fef3c7" },
                    { name: "Water", parts: 2, color: "#e0f2fe" },
                    { name: "Cumin", parts: 0.5, color: "#ca8a04" },
                    { name: "Salt", parts: 0.5, color: "#e5e5e5" }
                ]
            },
            {
                name: "Cilantro Lime",
                icon: "üåø",
                origin: "Mexican-American",
                uses: "Taco salads, grain bowls, fish tacos, Mexican street corn",
                spices: [
                    { name: "Cilantro", parts: 4, color: "#22c55e" },
                    { name: "Lime Juice", parts: 3, color: "#a3e635" },
                    { name: "Olive Oil", parts: 3, color: "#a3e635" },
                    { name: "Garlic", parts: 1, color: "#fef3c7" },
                    { name: "Jalape√±o", parts: 1, color: "#22c55e" },
                    { name: "Honey", parts: 0.5, color: "#fbbf24" }
                ]
            },
            {
                name: "Poppyseed",
                icon: "üå∫",
                origin: "USA",
                uses: "Spinach salad, fruit salad, strawberry salad, coleslaw",
                spices: [
                    { name: "Oil", parts: 4, color: "#fef3c7" },
                    { name: "Sugar", parts: 3, color: "#fef9c3" },
                    { name: "Poppy Seeds", parts: 2, color: "#1e3a5f" },
                    { name: "White Vinegar", parts: 2, color: "#f5f5f4" },
                    { name: "Onion", parts: 1, color: "#fde68a" },
                    { name: "Dijon", parts: 0.5, color: "#ca8a04" }
                ]
            },
            {
                name: "Ginger Miso",
                icon: "üáØüáµ",
                origin: "Japanese-American",
                uses: "Asian salads, grain bowls, grilled salmon, slaw",
                spices: [
                    { name: "White Miso", parts: 3, color: "#fef3c7" },
                    { name: "Rice Vinegar", parts: 3, color: "#fef9c3" },
                    { name: "Sesame Oil", parts: 2, color: "#a16207" },
                    { name: "Ginger", parts: 2, color: "#fbbf24" },
                    { name: "Honey", parts: 1, color: "#fbbf24" },
                    { name: "Garlic", parts: 0.5, color: "#fef3c7" }
                ]
            }
        ];

        const blendList = document.getElementById('blendList');
        const blendTitle = document.getElementById('blendTitle');
        const blendUses = document.getElementById('blendUses');
        const bubbleContainer = document.getElementById('bubbleContainer');

        // Create sidebar list
        blends.forEach((blend, index) => {
            const li = document.createElement('li');
            li.className = 'blend-item';
            li.innerHTML = `
                <span class="icon">${blend.icon}</span>
                <div>
                    <div class="name">${blend.name}</div>
                    <div class="origin">${blend.origin}</div>
                </div>
            `;
            li.addEventListener('click', () => selectBlend(index));
            blendList.appendChild(li);
        });

        function selectBlend(index) {
            // Update active state
            document.querySelectorAll('.blend-item').forEach((item, i) => {
                item.classList.toggle('active', i === index);
            });

            const blend = blends[index];
            blendTitle.textContent = blend.icon + ' ' + blend.name;
            blendUses.textContent = blend.uses;

            renderBubbles(blend.spices);
        }

        function renderBubbles(spices) {
            bubbleContainer.innerHTML = '';

            const containerWidth = 600;
            const containerHeight = 500;
            const centerX = containerWidth / 2;
            const centerY = containerHeight / 2;

            // Calculate total parts and sizes
            const totalParts = spices.reduce((sum, s) => sum + s.parts, 0);
            const minSize = 60;
            const maxSize = 150;

            // Sort by parts descending for better packing
            const sortedSpices = [...spices].sort((a, b) => b.parts - a.parts);

            // Position bubbles in a packed circle layout
            const bubbles = sortedSpices.map((spice, i) => {
                const ratio = spice.parts / totalParts;
                const size = minSize + (maxSize - minSize) * Math.sqrt(ratio * spices.length);
                return { ...spice, size, x: 0, y: 0 };
            });

            // Simple force-directed placement
            // Start with largest in center
            bubbles[0].x = centerX;
            bubbles[0].y = centerY;

            // Place others around
            for (let i = 1; i < bubbles.length; i++) {
                const angle = (i / (bubbles.length - 1)) * Math.PI * 2 - Math.PI / 2;
                const radius = 120 + i * 20;
                bubbles[i].x = centerX + Math.cos(angle) * radius;
                bubbles[i].y = centerY + Math.sin(angle) * radius;
            }

            // Simple collision resolution
            for (let iter = 0; iter < 50; iter++) {
                for (let i = 0; i < bubbles.length; i++) {
                    for (let j = i + 1; j < bubbles.length; j++) {
                        const dx = bubbles[j].x - bubbles[i].x;
                        const dy = bubbles[j].y - bubbles[i].y;
                        const dist = Math.sqrt(dx * dx + dy * dy);
                        const minDist = (bubbles[i].size + bubbles[j].size) / 2 + 8;

                        if (dist < minDist && dist > 0) {
                            const overlap = (minDist - dist) / 2;
                            const nx = dx / dist;
                            const ny = dy / dist;
                            bubbles[i].x -= nx * overlap;
                            bubbles[i].y -= ny * overlap;
                            bubbles[j].x += nx * overlap;
                            bubbles[j].y += ny * overlap;
                        }
                    }

                    // Keep in bounds
                    const r = bubbles[i].size / 2;
                    bubbles[i].x = Math.max(r, Math.min(containerWidth - r, bubbles[i].x));
                    bubbles[i].y = Math.max(r, Math.min(containerHeight - r, bubbles[i].y));
                }
            }

            // Render bubbles
            bubbles.forEach(bubble => {
                const div = document.createElement('div');
                div.className = 'bubble';
                div.style.width = bubble.size + 'px';
                div.style.height = bubble.size + 'px';
                div.style.left = (bubble.x - bubble.size / 2) + 'px';
                div.style.top = (bubble.y - bubble.size / 2) + 'px';
                div.style.background = bubble.color;
                div.style.fontSize = Math.max(11, bubble.size / 7) + 'px';

                // Determine text color based on background brightness
                const isLight = isLightColor(bubble.color);
                div.style.color = isLight ? '#000' : '#fff';

                div.innerHTML = `<span class="label">${bubble.name}</span>`;
                bubbleContainer.appendChild(div);
            });
        }

        function isLightColor(color) {
            // Convert hex to RGB and check brightness
            const hex = color.replace('#', '');
            const r = parseInt(hex.substr(0, 2), 16);
            const g = parseInt(hex.substr(2, 2), 16);
            const b = parseInt(hex.substr(4, 2), 16);
            const brightness = (r * 299 + g * 587 + b * 114) / 1000;
            return brightness > 128;
        }

        // Select first blend by default
        selectBlend(0);
    </script>
</body>
</html>
