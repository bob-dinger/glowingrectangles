<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Air Density</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: #0a0a0f;
            color: #fff;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            height: 100vh;
            display: flex;
            overflow: hidden;
        }

        .container {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            overflow-y: auto;
        }

        h1 {
            font-size: 24px;
            margin-bottom: 4px;
        }

        .subtitle {
            color: #888;
            font-size: 13px;
            margin-bottom: 15px;
        }

        .comparison {
            display: flex;
            gap: 20px;
            margin-bottom: 25px;
        }

        .air-box {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .air-label {
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 6px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .air-label.hot { color: #EF4444; }
        .air-label.cold { color: #3B82F6; }

        canvas {
            border-radius: 6px;
            border: 1px solid #333;
        }

        .air-desc {
            margin-top: 6px;
            font-size: 11px;
            color: #666;
            text-align: center;
            max-width: 180px;
        }

        .section-title {
            font-size: 12px;
            color: #F59E0B;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .elevation-section {
            margin-top: 10px;
        }

        .elevation-comparison {
            display: flex;
            gap: 20px;
        }

        .elevation-label {
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 6px;
            color: #22C55E;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .elevation-label.low { color: #8B5CF6; }

        /* Right Drawer */
        .drawer {
            width: 340px;
            height: 100vh;
            background: #111;
            border-left: 1px solid #222;
            padding: 25px;
            overflow-y: auto;
            flex-shrink: 0;
        }

        .drawer-title {
            font-size: 18px;
            font-weight: 600;
            color: #F59E0B;
            margin-bottom: 8px;
        }

        .drawer-subtitle {
            font-size: 13px;
            color: #666;
            margin-bottom: 20px;
        }

        .info-text {
            font-size: 13px;
            line-height: 1.7;
            color: #999;
        }

        .info-text p {
            margin-bottom: 14px;
        }

        .info-text strong {
            color: #ccc;
        }

        .key-insight {
            margin-top: 20px;
            padding: 15px;
            background: rgba(249, 115, 22, 0.1);
            border: 1px solid rgba(249, 115, 22, 0.3);
            border-radius: 8px;
            font-size: 13px;
            color: #FDBA74;
            line-height: 1.6;
        }

        .examples-section {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #222;
        }

        .examples-title {
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #555;
            margin-bottom: 12px;
        }

        .example-row {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 0;
            border-bottom: 1px solid #1a1a1a;
            font-size: 12px;
            color: #888;
        }

        .example-row-icon {
            font-size: 18px;
        }

        .stat-box {
            background: #1a1a1a;
            border-radius: 8px;
            padding: 12px;
            margin-top: 15px;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            padding: 6px 0;
            border-bottom: 1px solid #252525;
        }

        .stat-row:last-child {
            border-bottom: none;
        }

        .stat-label {
            color: #888;
        }

        .stat-value {
            color: #fff;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Why Balls Fly Further</h1>
        <p class="subtitle">Temperature and elevation affect air resistance</p>

        <div class="section-title">Temperature</div>
        <div class="comparison">
            <div class="air-box">
                <div class="air-label hot">Hot Air (90¬∞F)</div>
                <canvas id="hotCanvas" width="220" height="220"></canvas>
                <div class="air-desc">Molecules already buzzing around ‚Äî ball slips through easily</div>
            </div>
            <div class="air-box">
                <div class="air-label cold">Cold Air (40¬∞F)</div>
                <canvas id="coldCanvas" width="220" height="220"></canvas>
                <div class="air-desc">Molecules sluggish and packed ‚Äî ball has to push through</div>
            </div>
        </div>

        <div class="elevation-section">
            <div class="section-title">Elevation</div>
            <div class="elevation-comparison">
                <div class="air-box">
                    <div class="elevation-label">Denver (5,280 ft)</div>
                    <canvas id="highCanvas" width="220" height="220"></canvas>
                    <div class="air-desc">Fewer molecules to push through ‚Äî less resistance</div>
                </div>
                <div class="air-box">
                    <div class="elevation-label low">Sea Level (0 ft)</div>
                    <canvas id="lowCanvas" width="220" height="220"></canvas>
                    <div class="air-desc">More molecules packed in ‚Äî more resistance</div>
                </div>
            </div>
        </div>
    </div>

    <div class="drawer">
        <div class="drawer-title">Air Density & Baseball</div>
        <div class="drawer-subtitle">Why Coors Field is a hitter's paradise</div>

        <div class="info-text">
            <p><strong>Hot air</strong> molecules have more kinetic energy ‚Äî they're already bouncing around rapidly. A ball passing through doesn't have to "wake them up."</p>
            <p><strong>Cold air</strong> molecules are more sluggish. The ball has to transfer energy to get them moving, which slows it down.</p>
            <p><strong>High elevation</strong> means fewer molecules per cubic foot. Less stuff to push through = less drag.</p>
        </div>

        <div class="stat-box">
            <div class="stat-row">
                <span class="stat-label">Coors Field elevation</span>
                <span class="stat-value">5,280 ft</span>
            </div>
            <div class="stat-row">
                <span class="stat-label">Air density vs sea level</span>
                <span class="stat-value">~17% less</span>
            </div>
            <div class="stat-row">
                <span class="stat-label">Fly ball distance boost</span>
                <span class="stat-value">+5-10%</span>
            </div>
        </div>

        <div class="examples-section">
            <div class="examples-title">Real World Effects</div>
            <div class="example-row">
                <span class="example-row-icon">‚öæ</span>
                <span>Home runs are ~9% more likely at Coors Field</span>
            </div>
            <div class="example-row">
                <span class="example-row-icon">üèà</span>
                <span>Field goals travel further in Denver</span>
            </div>
            <div class="example-row">
                <span class="example-row-icon">‚õ≥</span>
                <span>Golf balls fly 10% further at altitude</span>
            </div>
            <div class="example-row">
                <span class="example-row-icon">üèÉ</span>
                <span>Sprinters benefit, distance runners struggle</span>
            </div>
        </div>

        <div class="key-insight">
            <strong>The tradeoff:</strong> Less air resistance helps the ball fly, but also means pitches break less. Curveballs don't curve as much at Coors Field.
        </div>
    </div>

    <script>
        // Particle class
        class Particle {
            constructor(x, y, speed, canvas) {
                this.x = x;
                this.y = y;
                this.speed = speed;
                this.canvas = canvas;
                this.angle = Math.random() * Math.PI * 2;
                this.radius = 3;
            }

            update() {
                this.x += Math.cos(this.angle) * this.speed;
                this.y += Math.sin(this.angle) * this.speed;

                // Bounce off walls
                if (this.x < this.radius || this.x > this.canvas.width - this.radius) {
                    this.angle = Math.PI - this.angle;
                    this.x = Math.max(this.radius, Math.min(this.canvas.width - this.radius, this.x));
                }
                if (this.y < this.radius || this.y > this.canvas.height - this.radius) {
                    this.angle = -this.angle;
                    this.y = Math.max(this.radius, Math.min(this.canvas.height - this.radius, this.y));
                }

                // Random direction changes
                if (Math.random() < 0.02) {
                    this.angle += (Math.random() - 0.5) * 0.5;
                }
            }

            draw(ctx, color) {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                ctx.fillStyle = color;
                ctx.fill();
            }
        }

        // Ball class
        class Ball {
            constructor(canvas) {
                this.canvas = canvas;
                this.reset();
            }

            reset() {
                this.x = -20;
                this.y = this.canvas.height / 2;
                this.vx = 2.5;
                this.radius = 8;
            }

            update(drag) {
                this.vx *= (1 - drag);
                this.x += this.vx;

                if (this.x > this.canvas.width + 20) {
                    this.reset();
                }
            }

            draw(ctx) {
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                ctx.fillStyle = '#fff';
                ctx.fill();
                ctx.strokeStyle = '#EF4444';
                ctx.lineWidth = 2;
                ctx.stroke();
            }
        }

        // Setup canvases
        const hotCanvas = document.getElementById('hotCanvas');
        const coldCanvas = document.getElementById('coldCanvas');
        const highCanvas = document.getElementById('highCanvas');
        const lowCanvas = document.getElementById('lowCanvas');

        const hotCtx = hotCanvas.getContext('2d');
        const coldCtx = coldCanvas.getContext('2d');
        const highCtx = highCanvas.getContext('2d');
        const lowCtx = lowCanvas.getContext('2d');

        // Create particles - DRAMATIC differences
        const hotParticles = [];
        const coldParticles = [];
        const highParticles = [];
        const lowParticles = [];

        // Hot air - same number but VERY fast
        for (let i = 0; i < 50; i++) {
            hotParticles.push(new Particle(
                Math.random() * hotCanvas.width,
                Math.random() * hotCanvas.height,
                4 + Math.random() * 3, // Very fast
                hotCanvas
            ));
        }

        // Cold air - same number but nearly frozen
        for (let i = 0; i < 50; i++) {
            coldParticles.push(new Particle(
                Math.random() * coldCanvas.width,
                Math.random() * coldCanvas.height,
                0.1 + Math.random() * 0.15, // Almost static
                coldCanvas
            ));
        }

        // High elevation - VERY few particles
        for (let i = 0; i < 20; i++) {
            highParticles.push(new Particle(
                Math.random() * highCanvas.width,
                Math.random() * highCanvas.height,
                1.5 + Math.random() * 1,
                highCanvas
            ));
        }

        // Low elevation - PACKED with particles
        for (let i = 0; i < 100; i++) {
            lowParticles.push(new Particle(
                Math.random() * lowCanvas.width,
                Math.random() * lowCanvas.height,
                1.5 + Math.random() * 1,
                lowCanvas
            ));
        }

        // Create balls
        const hotBall = new Ball(hotCanvas);
        const coldBall = new Ball(coldCanvas);
        const highBall = new Ball(highCanvas);
        const lowBall = new Ball(lowCanvas);

        function animate() {
            // Clear canvases
            hotCtx.fillStyle = '#0f0f14';
            hotCtx.fillRect(0, 0, hotCanvas.width, hotCanvas.height);
            coldCtx.fillStyle = '#0f0f14';
            coldCtx.fillRect(0, 0, coldCanvas.width, coldCanvas.height);
            highCtx.fillStyle = '#0f0f14';
            highCtx.fillRect(0, 0, highCanvas.width, highCanvas.height);
            lowCtx.fillStyle = '#0f0f14';
            lowCtx.fillRect(0, 0, lowCanvas.width, lowCanvas.height);

            // Update and draw hot particles
            hotParticles.forEach(p => {
                p.update();
                p.draw(hotCtx, 'rgba(239, 68, 68, 0.7)');
            });

            // Update and draw cold particles
            coldParticles.forEach(p => {
                p.update();
                p.draw(coldCtx, 'rgba(59, 130, 246, 0.7)');
            });

            // Update and draw high elevation particles
            highParticles.forEach(p => {
                p.update();
                p.draw(highCtx, 'rgba(34, 197, 94, 0.7)');
            });

            // Update and draw low elevation particles
            lowParticles.forEach(p => {
                p.update();
                p.draw(lowCtx, 'rgba(139, 92, 246, 0.7)');
            });

            // Update and draw balls
            hotBall.update(0.002); // Low drag
            hotBall.draw(hotCtx);

            coldBall.update(0.006); // High drag
            coldBall.draw(coldCtx);

            highBall.update(0.002); // Low drag
            highBall.draw(highCtx);

            lowBall.update(0.005); // Higher drag
            lowBall.draw(lowCtx);

            requestAnimationFrame(animate);
        }

        animate();
    </script>
</body>
</html>
