<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Genetic Code</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: #0a0a0f;
            color: #fff;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            min-height: 100vh;
            padding: 40px 20px;
            padding-right: 400px;
        }

        @media (max-width: 1400px) {
            body { padding-right: 340px; }
        }

        @media (max-width: 1100px) {
            body { padding-right: 20px; }
        }

        .back-link {
            position: fixed;
            top: 20px;
            left: 20px;
            color: #666;
            text-decoration: none;
            font-size: 13px;
            z-index: 100;
        }
        .back-link:hover { color: #fff; }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        h1 { font-size: 32px; margin-bottom: 8px; text-align: center; }
        .subtitle { color: #666; font-size: 14px; margin-bottom: 40px; text-align: center; }

        /* Amino Acids Section */
        .section-title {
            font-size: 20px;
            margin-bottom: 20px;
            color: #fff;
        }

        .amino-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin-bottom: 40px;
        }

        @media (max-width: 800px) {
            .amino-grid { grid-template-columns: repeat(4, 1fr); }
        }

        @media (max-width: 500px) {
            .amino-grid { grid-template-columns: repeat(2, 1fr); }
        }

        .amino-card {
            background: #111;
            border: 1px solid #222;
            border-radius: 10px;
            padding: 10px 8px;
            text-align: center;
            transition: all 0.2s;
            cursor: pointer;
        }

        .amino-card:hover {
            border-color: #444;
            transform: translateY(-2px);
        }

        .amino-card .letter {
            font-size: 22px;
            font-weight: 700;
            line-height: 1;
        }

        .amino-card .abbrev {
            font-size: 10px;
            color: #888;
            font-family: 'Monaco', 'Menlo', monospace;
        }

        .amino-card .name {
            font-size: 11px;
            color: #ccc;
            margin-bottom: 4px;
        }

        .amino-card .property {
            font-size: 9px;
            padding: 2px 6px;
            border-radius: 8px;
            display: inline-block;
        }

        /* Property colors */
        .nonpolar { background: rgba(139,92,246,0.2); color: #8B5CF6; }
        .polar { background: rgba(34,197,94,0.2); color: #22C55E; }
        .positive { background: rgba(59,130,246,0.2); color: #3B82F6; }
        .negative { background: rgba(239,68,68,0.2); color: #EF4444; }
        .special { background: rgba(251,191,36,0.2); color: #FBBF24; }

        /* Codon Table */
        .codon-table-section {
            margin-bottom: 40px;
        }

        .codon-table {
            display: grid;
            grid-template-columns: repeat(16, 1fr);
            gap: 2px;
            font-size: 10px;
            background: #111;
            border-radius: 12px;
            padding: 15px;
            overflow-x: auto;
        }

        .codon-cell {
            background: #1a1a1f;
            padding: 6px 4px;
            text-align: center;
            border-radius: 4px;
        }

        .codon-cell .codon {
            font-family: 'Monaco', 'Menlo', monospace;
            color: #666;
            font-size: 8px;
        }

        .codon-cell .aa {
            font-weight: 700;
            font-size: 12px;
            margin-top: 2px;
        }

        .codon-cell.stop-codon {
            background: rgba(239,68,68,0.1);
        }

        .codon-cell.stop-codon .aa {
            color: #EF4444;
        }

        .codon-cell.start-codon {
            background: rgba(34,197,94,0.1);
        }

        .codon-cell.start-codon .aa {
            color: #22C55E;
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 0;
            right: 0;
            width: 380px;
            height: 100vh;
            background: #0f0f14;
            border-left: 1px solid #222;
            overflow-y: auto;
            padding: 30px;
            z-index: 50;
        }

        @media (max-width: 1400px) {
            .sidebar { width: 320px; }
        }

        @media (max-width: 1100px) {
            .sidebar {
                position: relative;
                width: 100%;
                max-width: 900px;
                height: auto;
                margin: 40px auto 0;
                border-left: none;
                border-top: 1px solid #222;
                border-radius: 16px;
            }
        }

        .sidebar h2 {
            font-size: 18px;
            margin-bottom: 15px;
            color: #EC4899;
        }

        .sidebar .source {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #222;
            font-size: 13px;
            color: #666;
        }

        .sidebar .source a {
            color: #3B82F6;
            text-decoration: none;
        }

        .sidebar .source a:hover {
            text-decoration: underline;
        }

        .sidebar p {
            color: #999;
            font-size: 14px;
            line-height: 1.7;
            margin-bottom: 15px;
        }

        .sidebar strong {
            color: #fff;
        }

        .sidebar em {
            color: #EC4899;
            font-style: normal;
        }

        .sidebar .fact-box {
            background: #1a1a1f;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }

        .sidebar .fact-box .number {
            font-size: 32px;
            font-weight: 700;
            color: #F59E0B;
        }

        .sidebar .fact-box .label {
            font-size: 12px;
            color: #666;
        }

        .wiki-link {
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid #222;
        }

        .wiki-link a {
            color: #3B82F6;
            text-decoration: none;
            font-size: 13px;
        }

        .wiki-link a:hover {
            text-decoration: underline;
        }

        /* DNA Box */
        .dna-section {
            margin-bottom: 40px;
        }

        .dna-section .intro {
            color: #888;
            font-size: 14px;
            line-height: 1.6;
            margin-bottom: 15px;
            text-align: center;
        }

        .dna-box {
            background: #111;
            border: 1px solid #222;
            border-radius: 12px;
            padding: 20px;
            height: 200px;
            overflow: hidden;
            margin-bottom: 15px;
        }

        .dna-text {
            font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;
            font-size: 11px;
            line-height: 1.4;
            letter-spacing: 1px;
            color: #444;
            word-break: break-all;
            text-align: justify;
        }

        .dna-text .g { color: #22C55E; }
        .dna-text .c { color: #3B82F6; }
        .dna-text .u { color: #F59E0B; }
        .dna-text .a { color: #EF4444; }

        .dna-text .codon-highlight {
            background: rgba(236, 72, 153, 0.25);
            border-radius: 2px;
        }

        .codon-legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            font-size: 13px;
            color: #888;
        }

        .codon-legend .example {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .codon-legend .triplet {
            font-family: 'Monaco', 'Menlo', monospace;
            font-weight: 600;
            letter-spacing: 1px;
        }

        .codon-legend .aa {
            color: #EC4899;
            font-weight: 600;
        }

        /* Codon Examples Box */
        .codon-examples-box {
            background: #111;
            border: 1px solid #222;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .codon-examples {
            display: flex;
            justify-content: center;
            gap: 25px;
            flex-wrap: wrap;
        }

        .codon-example {
            text-align: center;
            padding: 10px;
        }

        .codon-example .triplet {
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 18px;
            font-weight: 700;
            letter-spacing: 2px;
            margin-bottom: 8px;
        }

        .codon-example .triplet .a { color: #EF4444; }
        .codon-example .triplet .u { color: #F59E0B; }
        .codon-example .triplet .g { color: #22C55E; }
        .codon-example .triplet .c { color: #3B82F6; }

        .codon-example .arrow {
            color: #444;
            font-size: 14px;
            margin-bottom: 8px;
        }

        .codon-example .aa-letter {
            font-size: 28px;
            font-weight: 700;
        }

        .codon-example .aa-name {
            font-size: 10px;
            color: #666;
            margin-top: 2px;
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-link">← Back</a>

    <div class="container">
        <h1>The Genetic Code</h1>
        <p class="subtitle">Proteins are just chains of amino acids.</p>

        <!-- DNA Explanation Box -->
        <div class="dna-section">
            <p class="intro">
                The genetic code is an instruction set for chaining together amino acids.
            </p>

            <div class="dna-box">
                <div class="dna-text" id="dna-text"></div>
            </div>
        </div>

        <p style="color: #888; font-size: 14px; text-align: center; margin-bottom: 20px;">
            Every <strong style="color:#fff">three letters</strong> (a codon) specifies which amino acid to add to the chain.
        </p>

        <!-- Codon Examples -->
        <div class="codon-examples-box">
            <div class="codon-examples">
                <div class="codon-example">
                    <div class="triplet"><span class="a">A</span><span class="u">U</span><span class="g">G</span></div>
                    <div class="arrow">↓</div>
                    <div class="aa-letter" style="color: #8B5CF6">M</div>
                    <div class="aa-name">Methionine (Start)</div>
                </div>
                <div class="codon-example">
                    <div class="triplet"><span class="g">G</span><span class="c">C</span><span class="u">U</span></div>
                    <div class="arrow">↓</div>
                    <div class="aa-letter" style="color: #8B5CF6">A</div>
                    <div class="aa-name">Alanine</div>
                </div>
                <div class="codon-example">
                    <div class="triplet"><span class="u">U</span><span class="u">U</span><span class="u">U</span></div>
                    <div class="arrow">↓</div>
                    <div class="aa-letter" style="color: #8B5CF6">F</div>
                    <div class="aa-name">Phenylalanine</div>
                </div>
                <div class="codon-example">
                    <div class="triplet"><span class="a">A</span><span class="a">A</span><span class="a">A</span></div>
                    <div class="arrow">↓</div>
                    <div class="aa-letter" style="color: #3B82F6">K</div>
                    <div class="aa-name">Lysine</div>
                </div>
                <div class="codon-example">
                    <div class="triplet"><span class="u">U</span><span class="g">G</span><span class="g">G</span></div>
                    <div class="arrow">↓</div>
                    <div class="aa-letter" style="color: #8B5CF6">W</div>
                    <div class="aa-name">Tryptophan</div>
                </div>
                <div class="codon-example">
                    <div class="triplet"><span class="u">U</span><span class="a">A</span><span class="a">A</span></div>
                    <div class="arrow">↓</div>
                    <div class="aa-letter" style="color: #EF4444">■</div>
                    <div class="aa-name">Stop</div>
                </div>
            </div>
        </div>

        <!-- The 20 Amino Acids -->
        <h2 class="section-title">The 20 Amino Acids</h2>
        <div class="amino-grid" id="amino-grid"></div>

        <!-- Quick Reference -->
        <h2 class="section-title">Codon Table</h2>
        <div class="codon-table-section">
            <div class="codon-table" id="codon-table"></div>
        </div>
    </div>

    <div class="sidebar">
        <h2>The Language of Life</h2>
        <div class="source">
            From: <a href="https://www.amazon.com/Gene-Intimate-History-Siddhartha-Mukherjee/dp/1476733503" target="_blank">
                <strong>The Gene: An Intimate History</strong>
            </a>
            <br>Siddhartha Mukherjee
        </div>
        <p>The genetic code is <em>universal</em>. The same codons specify the same amino acids in virtually every organism on Earth—from bacteria to humans.</p>
        <p>This universality is profound evidence that <strong>all life shares a common ancestor</strong>.</p>

        <div class="fact-box">
            <div class="number">64</div>
            <div class="label">possible codons (4³)</div>
        </div>

        <div class="fact-box">
            <div class="number">20</div>
            <div class="label">amino acids they encode</div>
        </div>

        <div class="fact-box">
            <div class="number">3</div>
            <div class="label">stop codons (UAA, UAG, UGA)</div>
        </div>

        <p>Because 64 codons map to only 20 amino acids + stop signals, the code is <em>redundant</em>. Multiple codons can specify the same amino acid. This redundancy provides some protection against mutations.</p>

        <p>The code was cracked in the 1960s by Marshall Nirenberg and others—one of biology's greatest intellectual achievements.</p>

        <div class="wiki-link">
            <a href="https://en.wikipedia.org/wiki/Genetic_code" target="_blank">Wikipedia: Genetic Code</a>
        </div>
    </div>

    <script>
        // Amino acid data
        const aminoAcids = [
            { letter: 'A', abbrev: 'Ala', name: 'Alanine', property: 'nonpolar', codons: ['GCU', 'GCC', 'GCA', 'GCG'] },
            { letter: 'R', abbrev: 'Arg', name: 'Arginine', property: 'positive', codons: ['CGU', 'CGC', 'CGA', 'CGG', 'AGA', 'AGG'] },
            { letter: 'N', abbrev: 'Asn', name: 'Asparagine', property: 'polar', codons: ['AAU', 'AAC'] },
            { letter: 'D', abbrev: 'Asp', name: 'Aspartic acid', property: 'negative', codons: ['GAU', 'GAC'] },
            { letter: 'C', abbrev: 'Cys', name: 'Cysteine', property: 'special', codons: ['UGU', 'UGC'] },
            { letter: 'E', abbrev: 'Glu', name: 'Glutamic acid', property: 'negative', codons: ['GAA', 'GAG'] },
            { letter: 'Q', abbrev: 'Gln', name: 'Glutamine', property: 'polar', codons: ['CAA', 'CAG'] },
            { letter: 'G', abbrev: 'Gly', name: 'Glycine', property: 'nonpolar', codons: ['GGU', 'GGC', 'GGA', 'GGG'] },
            { letter: 'H', abbrev: 'His', name: 'Histidine', property: 'positive', codons: ['CAU', 'CAC'] },
            { letter: 'I', abbrev: 'Ile', name: 'Isoleucine', property: 'nonpolar', codons: ['AUU', 'AUC', 'AUA'] },
            { letter: 'L', abbrev: 'Leu', name: 'Leucine', property: 'nonpolar', codons: ['UUA', 'UUG', 'CUU', 'CUC', 'CUA', 'CUG'] },
            { letter: 'K', abbrev: 'Lys', name: 'Lysine', property: 'positive', codons: ['AAA', 'AAG'] },
            { letter: 'M', abbrev: 'Met', name: 'Methionine', property: 'nonpolar', codons: ['AUG'], isStart: true },
            { letter: 'F', abbrev: 'Phe', name: 'Phenylalanine', property: 'nonpolar', codons: ['UUU', 'UUC'] },
            { letter: 'P', abbrev: 'Pro', name: 'Proline', property: 'nonpolar', codons: ['CCU', 'CCC', 'CCA', 'CCG'] },
            { letter: 'S', abbrev: 'Ser', name: 'Serine', property: 'polar', codons: ['UCU', 'UCC', 'UCA', 'UCG', 'AGU', 'AGC'] },
            { letter: 'T', abbrev: 'Thr', name: 'Threonine', property: 'polar', codons: ['ACU', 'ACC', 'ACA', 'ACG'] },
            { letter: 'W', abbrev: 'Trp', name: 'Tryptophan', property: 'nonpolar', codons: ['UGG'] },
            { letter: 'Y', abbrev: 'Tyr', name: 'Tyrosine', property: 'polar', codons: ['UAU', 'UAC'] },
            { letter: 'V', abbrev: 'Val', name: 'Valine', property: 'nonpolar', codons: ['GUU', 'GUC', 'GUA', 'GUG'] }
        ];

        const stopCodons = ['UAA', 'UAG', 'UGA'];

        // Build codon to amino acid map
        const codonMap = {};
        aminoAcids.forEach(aa => {
            aa.codons.forEach(codon => {
                codonMap[codon] = aa;
            });
        });
        stopCodons.forEach(codon => {
            codonMap[codon] = { letter: 'STOP', name: 'Stop', isStop: true };
        });

        // Property labels
        const propertyLabels = {
            'nonpolar': 'Nonpolar',
            'polar': 'Polar',
            'positive': 'Positive (+)',
            'negative': 'Negative (-)',
            'special': 'Special'
        };

        // Render amino acid grid
        function renderAminoGrid() {
            const grid = document.getElementById('amino-grid');
            grid.innerHTML = aminoAcids.map(aa => `
                <div class="amino-card" title="${aa.codons.join(', ')}">
                    <div class="letter" style="color: ${getPropertyColor(aa.property)}">${aa.letter}</div>
                    <div class="abbrev">${aa.abbrev}</div>
                    <div class="name">${aa.name}</div>
                    <div class="property ${aa.property}">${propertyLabels[aa.property]}</div>
                </div>
            `).join('');
        }

        function getPropertyColor(property) {
            const colors = {
                'nonpolar': '#8B5CF6',
                'polar': '#22C55E',
                'positive': '#3B82F6',
                'negative': '#EF4444',
                'special': '#FBBF24'
            };
            return colors[property] || '#fff';
        }

        // Render codon table
        function renderCodonTable() {
            const table = document.getElementById('codon-table');
            const bases = ['U', 'C', 'A', 'G'];
            let html = '';

            for (let first of bases) {
                for (let second of bases) {
                    for (let third of bases) {
                        const codon = first + second + third;
                        const aa = codonMap[codon];
                        let cellClass = 'codon-cell';
                        if (aa.isStop) cellClass += ' stop-codon';
                        if (aa.isStart) cellClass += ' start-codon';

                        html += `
                            <div class="${cellClass}">
                                <div class="codon">${codon}</div>
                                <div class="aa">${aa.letter}</div>
                            </div>
                        `;
                    }
                }
            }
            table.innerHTML = html;
        }

        // Generate mRNA sequence for display
        function generateMrnaDisplay() {
            const dnaTextEl = document.getElementById('dna-text');
            const bases = ['A', 'U', 'G', 'C'];
            const length = 1500;
            let html = '';

            // Generate random positions for highlighted codons
            const highlightPositions = new Set();
            for (let i = 0; i < 15; i++) {
                const pos = Math.floor(Math.random() * (length / 3)) * 3;
                highlightPositions.add(pos);
            }

            for (let i = 0; i < length; i++) {
                const base = bases[Math.floor(Math.random() * 4)];
                const baseClass = base.toLowerCase();

                // Check if this is start of a highlighted codon
                if (highlightPositions.has(i)) {
                    html += '<span class="codon-highlight">';
                    for (let j = 0; j < 3 && i + j < length; j++) {
                        const b = bases[Math.floor(Math.random() * 4)];
                        html += `<span class="${b.toLowerCase()}">${b}</span>`;
                    }
                    html += '</span>';
                    i += 2; // Skip next 2 bases since we already added them
                } else {
                    html += `<span class="${baseClass}">${base}</span>`;
                }
            }

            dnaTextEl.innerHTML = html;
        }

        // Initialize
        renderAminoGrid();
        renderCodonTable();
        generateMrnaDisplay();
    </script>
</body>
</html>
